<img src="https://github.com/JeongwooHam/Playground/assets/123251211/0a8fdd71-5b7d-4613-8f33-b5cc6ed569b3"/>

## âœ¨ ìŠ¤í† ë¦¬ë¶ê³¼ ë””ìì¸ ì‹œìŠ¤í…œ

### ğŸ’„ ë””ìì¸ ì‹œìŠ¤í…œì´ë€?

- **_ì œí’ˆì˜ ë””ìì¸ì— ëŒ€í•œ ê·œì¹™_**
  - ì„œë¹„ìŠ¤ UIì— ì¼ê´€ì„±ì„ ë¶€ì—¬í•œë‹¤.
  - ì½”ë“œ ë° ë””ìì¸ì˜ ìœ ì§€ë³´ìˆ˜ê°€ ìœ ë¦¬í•´ì§„ë‹¤.
  - ê¸°íšì, ë””ìì´ë„ˆ, ê°œë°œì ê°„ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë¹„ìš©ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.
- ì œí’ˆì˜ ë””ìì¸ê³¼ ê°œë°œì„ ì•ˆë‚´í•˜ëŠ” ê´‘ë²”ìœ„í•œ ì§€ì¹¨, í‘œì¤€, ì‹¤ì²œ ì‚¬í•­ì„ ëª¨ì•„ë‘” ê²ƒ

### ğŸ“– ìŠ¤í† ë¦¬ë¶ì´ë€?

- UI ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ê³  ë¬¸ì„œí™”í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•˜ëŠ” ë„êµ¬
- UI ì»´í¬ë„ŒíŠ¸ì— `story`ë¥¼ ë¶€ì—¬í•˜ì—¬ ë Œë”ë§ì„ í…ŒìŠ¤íŠ¸í•œë‹¤.
  - `story`: UI ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ (ì˜ˆ: `disabled`, `enabled`)
- ë””ìì¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³  ìœ ì§€í•˜ëŠ” ë° ìˆì–´ ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.
  - ê°œë°œí•œ ì»´í¬ë„ŒíŠ¸ê°€ ë””ìì¸ ê°€ì´ë“œì— ë§ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
  - ì»´í¬ë„ŒíŠ¸ì˜ ë ˆì´ì•„ì›ƒ, ìƒ‰ìƒ, íƒ€ì´í¬ê·¸ë˜í”¼ ë“± ë‹¤ì–‘í•œ ë””ìì¸ ìš”ì†Œë¥¼ ì¼ê´€ì„± ìˆê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
  - ë””ìì¸ í† í°, ì»´í¬ë„ŒíŠ¸, íŒ¨í„´ ë“±ì„ ë¬¸ì„œí™”í•˜ì—¬ íŒ€ ë‚´ ê³µìœ  ë° ì¬ì‚¬ìš©ì„ í¸ë¦¬í•˜ê²Œ í•œë‹¤.

### ğŸ¤” ìŠ¤í† ë¦¬ë¶ê³¼ ë””ìì¸ ì‹œìŠ¤í…œ, ì™œ í•„ìš”í• ê¹Œ?

- ì‘ì€ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ìŒ“ì•„ì„œ í° ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì—ˆì„ ë•Œ UIê°€ ì–´ë–»ê²Œ ë³´ì¼ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- íŒ€ì›ë“¤ ê°„ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ ê°•í™”í•˜ë©° ë””ìì¸ê³¼ ì½”ë“œë¥¼ ì¼ê´€ì„± ìˆê²Œ ìœ ì§€í•˜ë„ë¡ ë„ì™€ì¤€ë‹¤.
- ì‚¬ìš©ìê°€ ë‚´ê°€ ë§Œë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚´ê°€ ì˜ë„í•œ ëŒ€ë¡œ ì˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ë¯¸ë¦¬ ë³´ê³  ì ìš©í•  ìˆ˜ ìˆë‹¤.
- íšŒì‚¬ì—ì„œ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ëŸ°ì¹­í•˜ë”ë¼ë„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘” ë””ìì¸ ì‹œìŠ¤í…œì„ ê¸°ë°˜ìœ¼ë¡œ ì¼ê´€ëœ UI ì‹œìŠ¤í…œ í†µí•´ Brand Identityë¥¼ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤.

## ğŸ¤– í”„ë¡œì íŠ¸ ê¸°ë³¸ ì„¤ì •

- ìš°ì„  viteë¡œ í”„ë¡œì íŠ¸ë¥¼ `init`í•©ë‹ˆë‹¤.

```shell
npm create vite@latest
```

### ğŸ“– ìŠ¤í† ë¦¬ë¶ í™˜ê²½ ì„¤ì •í•˜ê¸°

1. ìŠ¤í† ë¦¬ë¶ì„ `init` í•œë‹¤.

```shell
npx storybook@latest init
```

2. viteì™€ ê´€ë ¨ëœ ì¶”ê°€ ì„¤ì •ì„ ì§„í–‰í•œë‹¤.

```shell
npm install @storybook/builder-vite --save-dev
```

3. ìŠ¤í† ë¦¬ë¶ í´ë”ì˜ `main.ts` íŒŒì¼ì— `core` ì„¤ì •ì„ ì¶”ê°€í•œë‹¤.

```ts
// .storybook/main.ts
const config: StorybookConfig = {
  // ...
  core: {
    builder: "@storybook/builder-vite",
  },
};
```

### ğŸŒ€ Tailwind Css í™˜ê²½ ì„¤ì •í•˜ê¸°

1. Tailwindë¥¼ ì„¤ì¹˜í•œë‹¤.

```shell
npm install -D tainwindcss postcss autoprefixer
npx tailwind init -p
```

2. `tailwind.config.js`ì—ì„œ ë¦¬ì•¡íŠ¸ ì½”ë“œ ìŠ¤íƒ€ì¼ì´ ë°˜ì˜ë˜ë„ë¡ ì„¤ì •í•´ì¤€ë‹¤.

```js
// tailwind.config.js
export default {
  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],
};
```

3. tailwindë¥¼ import í•´ì¤€ë‹¤.

```css
/* index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;
```

4. ë””ìì¸ ì‹œìŠ¤í…œì˜ ê¸°ë³¸ ì„¤ì •ì„ ë°˜ì˜í•œë‹¤.

```js
// tailwind.config.js
export default {
  // ...
  theme: {
    colors: {
      // ...
    },
  },
};
```

- `tailwind.config.js`ì— ì„¤ì •í•œ ê²ƒë³´ë‹¤ ì¸ë¼ì¸ìœ¼ë¡œ ì§ì ‘ ì„¤ì •í•´ì£¼ëŠ” ê²ƒì´ ìš°ì„ ë˜ë¯€ë¡œ ìŠ¤íƒ€ì¼ì´ ê³ ì •ë  ìš°ë ¤ëŠ” í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

## ğŸ§¨ ì»´í¬ë„ŒíŠ¸ ê°œë°œ ì‹œ CLS(Cumulative Layout Shift) ê³ ë ¤í•˜ê¸°

### ğŸ§ CLSë€?

- ë°©ë¬¸ìì—ê²Œ ì½˜í…ì¸ ê°€ ì–¼ë§ˆë‚˜ ë¶ˆì•ˆì •í•˜ê²Œ ëŠê»´ì§€ëŠ”ì§€ë¥¼ ì¸¡ì •í•˜ëŠ” ì‚¬ìš©ì ê²½í—˜ ì¸¡ì • í•­ëª©
  - í˜ì´ì§€ì—ì„œ ê°‘ìê¸° ë ˆì´ì•„ì›ƒì˜ ë³€ê²½ì´ ë°œìƒí•˜ëŠ” ê²ƒì€ ì‚¬ìš©ìì˜ ì£¼ì˜ë¥¼ ì‚°ë§Œí•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.
  - ì˜ëª»ëœ í´ë¦­ì„ ìœ ë„í•  ê²½ìš° í”¼í•´ë¥¼ ì´ˆë˜í•˜ê±°ë‚˜ ë¶ˆë§Œì¡±ìŠ¤ëŸ¬ìš´ UXë¥¼ ì œê³µí•˜ê²Œ ëœë‹¤.
- CLS ì¸¡ì •ì„ í†µí•´ ì‚¬ìš©ìì—ê²Œ ë°œìƒí•˜ëŠ” ë ˆì´ì•„ì›ƒ ì´ë™ ë¹ˆë„ë¥¼ íŒŒì•…í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

> CLS ì ìˆ˜

<img src="https://marfeel.anticipa.io/public/uploads/marfeel/image/wysiwyg/21_10_2020_09_28_34_Screenshot_2020_10_21_at_09.28.21.png" alt="CLS ì ìˆ˜"/>

- ì¼ì • ê¸°ê°„ ë™ì•ˆ ë ˆì´ì•„ì›ƒ ì´ë™ì´ ì—†ëŠ” ìƒíƒœì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆìƒí•˜ì§€ ì•Šì€ ë ˆì´ì•„ì›ƒ ì´ë™ì— ëŒ€í•œ ëˆ„ì ëœ ì ìˆ˜
- ë·°í¬íŠ¸ì—ì„œ ì´ë™í•œ ì½˜í…ì¸ ì˜ ì–‘ê³¼ ì˜í–¥ì„ ë°›ì€ ìš”ì†Œê°€ ì´ë™í•œ ê±°ë¦¬ë¥¼ ê³ ë ¤í•˜ì—¬ ì‚°ì •ëœë‹¤.
- ì¢‹ì€ ì‚¬ìš©ì í™˜ê²½ ì œê³µì„ ìœ„í•´ì„œëŠ” ì‚¬ì´íŠ¸ì˜ CLS ì ìˆ˜ê°€ `0.1` ë¯¸ë§Œì´ì–´ì•¼ í•œë‹¤.

### âœ¨ í•´ê²° ë°©ë²•

- errorMessageë¥¼ `absolute`ë¡œ ê³ ì •í•´ì¤€ë‹¤.
- ì´ë•Œ, ì¬ì‚¬ìš©ì„±ì„ ìœ„í•´ errorMessage ìì²´ì— `position`ì„ ë¶€ì—¬í•˜ì§€ ì•Šìœ¼ë ¤ `div` íƒœê·¸ë¥¼ ê²‰ì— ì¶”ê°€í•  ê²½ìš° ë¶ˆí•„ìš”í•œ íƒœê·¸ê°€ í•˜ë‚˜ ë” ì¶”ê°€ëœë‹¤.
  - ì´ëŠ” treeì˜ ëª¨ë“  nodeë¥¼ í›‘ëŠ” Reactì˜ Reconciliation ê³¼ì •ì— ì†Œìš”ë˜ëŠ” ì‹œê°„ì„ ë” ê¸¸ì–´ì§€ê²Œ í•˜ë¯€ë¡œ ë Œë”ë§ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆë‹¤.
- CSSì˜ ìì‹ ì†ì„±ì„ ì‚¬ìš©í•˜ì!

  ```css
  /*ì¼ë°˜ CSS ìŠ¤íƒ€ì¼*/
  .relative {
    > p {
      position: absolute;
    }
  }

  /*tailwindCSS ìŠ¤íƒ€ì¼*/
  @layer components {
    .relative > p {
      @apply absolute;
    }
  }

  /*íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì—ë§Œ ì ìš©ë˜ê¸¸ ì›í•˜ëŠ” ê²½ìš°*/
  @layer components {
    .text-field > p {
      @apply absolute;
    }
  }
  ```

## ğŸ‘· Chromaticê³¼ Github Actionsë¥¼ í™œìš©í•œ CI/CD

<img src="https://www.chromatic.com/docs/_astro/workflow-publish.8OxWBJDQ_1ycnpj.webp"/>

### ğŸš¨ Chromatic ì´ì „ì˜ ë¬¸ì œì 

- ì½”ë“œë§Œ ë³´ê³  ì»´í¬ë„ŒíŠ¸ì˜ í˜•íƒœë¥¼ ìƒìƒí•˜ê¸° ì–´ë µë‹¤.
- PRì„ ì‘ì„±í•  ë•Œ ì„¸ë¶€ ì»´í¬ë„ŒíŠ¸ë¥¼ ëª¨ë‘ ìƒì„¸í•˜ê²Œ ì‘ì„±í•˜ê¸° ì–´ë µë‹¤.
- ì»´í¬ë„ŒíŠ¸ì˜ UIì™€ í…ŒìŠ¤íŠ¸ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ê¸° ë²ˆê±°ë¡­ë‹¤.

### ğŸ§ Chromaticì´ë€?

- Chromaticì´ë€ ìŠ¤í† ë¦¬ë¶ì—ì„œ ë§Œë“  ë¬´ë£Œ ë°°í¬ ì„œë¹„ìŠ¤ë¡œ, ìŠ¤í† ë¦¬ë¶ì„ ê°„ë‹¨í•˜ê²Œ ë°°í¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
- ì»´í¬ë„ŒíŠ¸ ë¯¸ë¦¬ ë³´ê¸°, ë¹Œë“œ ê³¼ì • ë“±ì´ ìŠ¤í† ë¦¬ë¶ì— ìµœì í™”ë˜ì–´ ë³´ì—¬ì§„ë‹¤.
- `verify changes`ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ì˜ ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- Chromatic í˜ì´ì§€ì—ì„œ ë˜ëŠ” PR ìì²´ì—ì„œ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ë¦¬ë·°ê°€ ê°€ëŠ¥í•˜ë‹¤.

> Chromatic ì„¤ì¹˜í•˜ê¸°

```shell
npm install --save-dev chromatic
```

> Chromaticì— ìŠ¤í† ë¦¬ë¶ ë°°í¬í•˜ê¸°

```shell
npx chromatic --project-token <your-project-token>
```

### ğŸ”€ Github Actionsë¥¼ í™œìš©í•œ CI/CD

- ì´ ê³¼ì •ì´ ì—†ë‹¤ë©´ ì»´í¬ë„ŒíŠ¸ì˜ UIì™€ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ì„œëŠ” ì½”ë“œë¥¼ Pull ë°›ê³  ìŠ¤í† ë¦¬ë¶ì„ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ì—¬ í™•ì¸í•´ì•¼ í•œë‹¤.

> Chromatic í† í° ì„¤ì •í•˜ê¸°

<img src="https://github.com/JeongwooHam/Playground-Storybook/assets/123251211/02b4d698-172f-4b3e-8cb2-ac9e4c17fbf6" width="50%"/>

- í† í°ì€ Chromaticì˜ Manage íƒ­ > Configure íƒ­ > `Setup Chromatic with this project token`ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<img src="https://github.com/JeongwooHam/Playground-Storybook/assets/123251211/d57bd9a9-b7a3-41a5-907b-a6097fdae2e5" width="50%"/>

> Github Actions workflow íŒŒì¼ ìƒì„±í•˜ê¸°

- `.github/workflows/chromatic.yml`ì— ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•´ì£¼ì—ˆë‹¤.
- í´ë”ëª…ë§Œ ë™ì¼í•˜ë‹¤ë©´ íŒŒì¼ëª…ì€ ì„ì˜ë¡œ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.

```yml
# .github/workflows/chromatic.yml

name: "Chromatic"

# push ì´ë²¤íŠ¸ ë°œìƒ ì‹œ
on: push

jobs:
  chromatic:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Install dependencies
        # ì‚¬ìš©í•˜ëŠ” package managerì— ë§ì¶°ì„œ ì„¤ì •í•˜ê¸°
        run: npm ci

      - name: Run Chromatic
        uses: chromaui/action@latest
        with:
          # Github Secretì— ë„£ì€ key ê°’ê³¼ ë™ì¼í•´ì•¼ í•œë‹¤.
          projectToken: ${{ secrets.CHROMATIC_PROJECT_TOKEN }}
```

- ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<img src="https://github.com/JeongwooHam/Playground-Storybook/assets/123251211/5d85b386-beb6-49ca-8ba1-540f69443189" width="40%"/>
<img src="https://github.com/JeongwooHam/Playground-Storybook/assets/123251211/a1cfbe37-e35f-4d37-8a38-681209e7f904" width=40%"/>

## ğŸŒ ìŠ¤í† ë¦¬ë¶ì„ í™œìš©í•œ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸

### ğŸ§ ì›¹ ì ‘ê·¼ì„±ì´ë€?

- ë””ì§€í„¸ ë¶„ì•¼ì—ì„œ ìœ ë‹ˆë²„ì„¤ ë””ìì¸(ë‚˜ì´ë‚˜ ëŠ¥ë ¥ì— ìƒê´€ ì—†ì´ ì œí’ˆì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.)ì˜ ë©”ì‹œì§€ë¥¼ ë‚´í¬í•˜ëŠ” ê°œë…
- ì›¹ì‚¬ì´íŠ¸, ë„êµ¬, ê¸°ìˆ ì„ ì¥ì• ë¥¼ ê°€ì§„ ì‚¬ìš©ìë“¤ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“œëŠ” ê²ƒ
  - ì—¬ê¸°ì„œì˜ ì¥ì• ëŠ” ì‹ ì²´ì , ì¸ì§€ì  ì¥ì•  ë¿ë§Œ ì•„ë‹ˆë¼ ì›¹ì— ì ‘ê·¼í•˜ëŠ” ë° ì˜í–¥ì„ ì£¼ëŠ” ì¼ì‹œì ì¸ ì¥ì•  ìƒíƒœ, í™˜ê²½ì  ì œì•½ì„ í¬í•¨í•œë‹¤.

> **The power of the Web is in its universality**

- ì›¹ ì ‘ê·¼ì„±ì„ ì¤€ìˆ˜í•˜ëŠ” ê²ƒì€ ì›¹ì˜ ê¸°ë³¸ ì •ì‹ ì„ ì§€í‚¤ëŠ” ê²ƒì´ë©°, ì¥ì• ì¸ì°¨ë³„ê¸ˆì§€ë²•ê³¼ ì§€ëŠ¥ ì •ë³´í™” ê¸°ë³¸ë²•ì— ì˜í•œ ë²•ì • ì˜ë¬´ì‚¬í•­ì´ê¸°ë„ í•˜ë‹¤.
- ì›¹ ì ‘ê·¼ì„±ì„ ì¤€ìˆ˜í•  ê²½ìš° ìƒ‰ì•½, ì²­ê°ì¥ì• , ìš´ë™ì¥ì•  ë“± ì‹ ì²´ì  ë¶ˆí¸í•¨ì„ ê°€ì§„ ì‚¬ëŒë“¤ë„ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- íŒ”ì´ ë¶€ëŸ¬ì§€ê±°ë‚˜ ì•ˆê²½ì„ ìƒì–´ë²„ë ¤ ì¼ì‹œì  ë¶ˆí¸í•¨ì„ ê²ªê±°ë‚˜ ë°ì€ í–‡ë¹›ì´ë‚˜ ì†Œë¦¬ë¥¼ ë“£ê¸° í˜ë“  ìƒí™©ì— ì²˜í•˜ëŠ” ë“± í™˜ê²½ì  ì œì•½ì„ ë°›ëŠ” ì‚¬ëŒ, ì¸ì§€ì /ì‹ ì²´ì  ëŠ¥ë ¥ì˜ ì €í•˜ë¥¼ ê²ªëŠ” ë…¸ì¸ ë“± ì¥ì• ë¥¼ ê°–ì§€ ì•ŠëŠ” ì‚¬ëŒì—ê²Œë„ ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤.

### ğŸ‘“[Test Runner](https://storybook.js.org/docs/writing-tests/test-runner)ë¥¼ í™œìš©í•œ ì›¹ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸

> a11y addon ì„¤ì¹˜í•˜ê¸°

```shell
npm install @storybook/addon-a11y --save-dev
```

> `.storybook/main.ts`ì— addon ì¶”ê°€í•˜ê¸°

```ts
addons: [
    // Other Storybook addons
    '@storybook/addon-a11y', //ğŸ‘ˆ The a11y addon goes here
  ],
```

> Test Runnerë¥¼ í™œìš©í•˜ì—¬ ì›¹ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ê¸°

- playwrightë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤.

```shell
npx playwright install
```

- test runner addonì„ ì„¤ì¹˜í•´ì¤€ë‹¤.

```shell
npm install @storybook/test-runner --save-dev
```

- `package.json`ì— ì•„ë˜ì™€ ê°™ì´ `scripts`ë¥¼ ì¶”ê°€í•œë‹¤.

```json
{
  "scripts": {
    "test-storybook": "test-storybook"
  }
}
```

- test-runnerì— ì›¹ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ë¥¼ ì„¤ì •í•´ì¤€ë‹¤.

```shell
npm install axe-playwright --save-dev
```

```ts
import type { TestRunnerConfig } from "@storybook/test-runner";
import { injectAxe, checkA11y } from "axe-playwright";

const config: TestRunnerConfig = {
  async preVisit(page) {
    await injectAxe(page);
  },
  async postVisit(page) {
    await checkA11y(page, "#storybook-root", {
      detailedReport: true,
      detailedReportOptions: {
        html: true,
      },
    });
  },
};

export default config;
```

- ì œëŒ€ë¡œ ì ìš©ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![image](https://github.com/JeongwooHam/Playground-Storybook/assets/123251211/e8b9e34d-2119-4277-8081-8750d5c7b32d)

> Github Actionsë¡œ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ ìë™í™”í•˜ê¸°

- ì•„ë˜ì™€ ê°™ì´ workflowë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

```yml
storybook-accessibility-test:
  timeout-minutes: 60
  runs-on: ubuntu-latest
  steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-node@v3
      with:
        node-version-file: ".nvmrc"
    - name: Install dependencies
      run: yarn
    - name: Install Playwright
      run: npx playwright install --with-deps
    - name: Build Storybook
      run: yarn build-storybook --quiet
    - name: Serve Storybook and run tests
      run: |
        npx concurrently -k -s first -n "SB,TEST" -c "magenta,blue" \
          "npx http-server storybook-static --port 6006 --silent" \
          "npx wait-on tcp:127.0.0.1:6006 && yarn test-storybook"
```

- `"npx wait-on tcp:127.0.0.1:6006 && yarn test-storybook"` ë¶€ë¶„ì—ì„œ IP ì£¼ì†Œì¸ `127.0.0.1`ì„ ëª…ì‹œí•´ì£¼ì§€ ì•Šìœ¼ë©´ CI ê³¼ì •ì—ì„œ Storybook Server ë¶€ë¶„ì´ ì œëŒ€ë¡œ êµ¬ë™ë˜ì§€ ì•Šê³  ë¬´í•œí•˜ê²Œ ë¡œë”©ë˜ëŠ” timeout ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë¯€ë¡œ ì£¼ì˜í•˜ì!

## ğŸ‘¥ ìŠ¤í† ë¦¬ë¶ì„ ì‚¬ìš©í•œ [ì‚¬ìš©ì ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸](https://storybook.js.org/docs/writing-tests/interaction-testing)

- í˜ì´ì§€ì™€ ê°™ì´ ë” ë³µì¡í•œ UIë¥¼ êµ¬ì¶•í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë“± UI ë Œë”ë§ ì´ìƒì˜ ì—­í• ì„ ë§¡ê²Œ ëœë‹¤.
- Jestë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ë„ ìˆì§€ë§Œ, ìŠ¤í† ë¦¬ë¶ì„ ì‚¬ìš©í•´ì„œë„ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ë‹¤.
- API í˜¸ì¶œ ë¡œì§ì„ Cypress ë“±ì„ í™œìš©í•œ e2e í…ŒìŠ¤íŠ¸ì—ì„œ ì§„í–‰í•œë‹¤ë©´, ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ëŠ” ìŠ¤í† ë¦¬ë¶ì„ ì‚¬ìš©í•˜ì—¬ ì§„í–‰í•˜ëŠ” ê²ƒë„ í¸ë¦¬í•´ ë³´ì¸ë‹¤.

> Interaction Test ê´€ë ¨ addon ì¶”ê°€í•˜ê¸°

```shell
npm install @storybook/test @storybook/addon-interactions --save-dev
```

> `.storybook/main.ts`ì— addon ì„¤ì • ì¶”ê°€í•˜ê¸°

```ts
addons: [
    // Other Storybook addons
    '@storybook/addon-interactions',
  ],
```

- [ë‹¤ìŒ íŒŒì¼](https://github.com/JeongwooHam/Playground-Storybook/blob/master/src/stories/LoginForm.stories.ts)ê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ ë¡œì§ì„ ì‘ì„±í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ì ìš©ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![image](https://github.com/JeongwooHam/Playground-Storybook/assets/123251211/0dd693b3-88a4-4d5e-be1e-e0df6115ea75)
